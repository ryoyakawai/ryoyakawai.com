<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>

<meta charset="utf-8">
<title>Delicious Days &#8211; Delicious Days</title>
<meta name="description" content="Ryoya Kawai's Life Blog">
<meta name="keywords" content="blog, ryoya, kawai, life">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="../images/background_sf_pano.jpg">

<meta name="twitter:description" content="Ryoya Kawai's Life Blog">


<!-- Open Graph -->
<meta property="og:locale" content="ja_JP">
<meta property="og:type" content="summary">
<meta property="og:image" content="../images/background_sf_pano_300x300.jpg">
<meta property="og:title" content="Delicious Days">
<meta property="og:description" content="Ryoya Kawai's Life Blog">
<meta property="og:url" content="../page12/">
<meta property="og:site_name" content="Delicious Days">





<link rel="canonical" href="../page12/">
<link href="../feed.xml" type="application/atom+xml" rel="alternate" title="Delicious Days Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="../assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="../assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Polymer -->
<script src="https://polygit.org/components/webcomponentsjs/webcomponents-loader.js"></script>
<link rel="import" href="../assets/components/youtube-play.html">
<link rel="import" href="../assets/components/language-selector.html">

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="../images/profile_photo.jpg">
<link rel="icon" type="image/jpeg" href="../images/profile_photo.jpg">



<!-- AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-9891854265132215",
    enable_page_level_ads: true
  });
</script>




  <link rel="stylesheet" type="text/css" href="../assets/css/header-title.css">
  <link rel="stylesheet" type="text/css" href="../assets/css/post.css">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({
     google_ad_client: "ca-pub-9891854265132215",
     enable_page_level_ads: true
   });
  </script>
</head>

<body id="post-index" class="feature">

<!-- register service worker-->
<script type="text/javascript" src="register_sw.js"></script>

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="../">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="../images/avatar.jpg" alt="Ryoya Kawai photo" class="author-photo">
					<h4>Ryoya Kawai</h4>
					<p></p>
				</li>
				<li><a href="../about/"><span class="btn btn-inverse">Learn More</span></a></li>
				<li>
					<a href="mailto:blog@ryoyakawai.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="https://twitter.com/ryoyakawai"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="https://facebook.com/ryoyakawai"><i class="fa fa-fw fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="https://google.com/+ryoyakawai"><i class="fa fa-fw fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="https://linkedin.com/in/ryoya-kawai-11342b57"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="https://github.com/ryoyakawai"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="../posts/">Order by Date</a></li>
				<li><a href="../tags/">Group By Tag</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  
  
    <div class="entry-image">
      <img class="entry-raw-image" src="../images/background_sf_pano.jpg">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1 class="header-title-text">Delicious Days</h1>
      <!--h2>Delicious Days</h2-->
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-08-22T00:00:00+09:00"><a href="../2013/08/22/web-midi-api-send.html">August 22, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="../about/" title="About Ryoya Kawai">Ryoya Kawai</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute


      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="../2013/08/22/web-midi-api-send.html" rel="bookmark" title="Web MIDI API の Send ももうすぐ来そうです!!" itemprop="url">Web MIDI API の Send ももうすぐ来そうです!!</a></h1>
    
  </header>
  <div class="entry-content">
    <div> </div>

<p><a href="http://www.google.co.jp/intl/ja/chrome/browser/canary.html" target="_blank">Google Chrome Canary</a> には
Web MIDI API の MIDI INPUT 機能が実装されていますが、
MIDI OUT 機能の実装はまだでした。が、それがもうすぐ来そうな予感です。
つまり Web MIDI API が完全体としてブラウザに実装されるということです。
何がいいかと言うと、JavaScript でプログラムを書けばブラウザから MIDI 機器をブリブリ操作できるようになるところです。
「MIDI 機器をコンピュータから操作する場合って <a href="http://japan.steinberg.net/" target="_blank">Cubase</a>、<a href="https://www.apple.com/jp/logic-pro/" target="_blank">Logic</a>、<a href="http://ja.wikipedia.org/wiki/Vision_(%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2)">Vision</a> とかの DAW からでしょ？」という固定概念がありそうですが、これからはWebブラウザから MIDI 機器を操作する時代がやってくるのです^^ 「でもそのJavaScriptとか操作って難しいんでしょ〜？」ってあたりは、
先日公開した <a href="https://github.com/ryoyakawai/WebMIDIAPIWrapper" target="_blank">Web MIDI API Wrapper</a> を使うと簡単に解決できると思いますよ！
（このブログで<a href="http://localhost:4000/2013/08/webmidiapi-wrapper.html" target="_blank">説明</a>もしています）</p>

<p>さて、本題の「もうすぐ来るよ」なところです。Google Chrome にはいくつかバージョンがあり、
ここで登場するものを説明すると、オープンソースの <a href="http://www.chromium.org/" target="_blank">Chromium</a>、正式公開じゃないから何が起こるか分からないバーションの
Google Chrome Canary、そして安定バージョンの <a href="http://www.google.co.jp/" target="_blank">Google Chrome</a>。なので API は最初に Chromium に実装され公開されます。そして今回 Web MIDI API の MIDI OUTPUT 機能の実装がされたのが Chromium です。ですので、近いうちには Google Chrome Canary に来そうだと思う訳です。</p>

<p>この MIDI OUTPUT の場合 SystemExclusive(SysEx)を使った場合のセキュリティの懸念があり、SysExを使うことを宣言すると許可を求めるダイアログが上がってきます。その状況がこれ▼になります。</p>

<div class="post-image-center">
  <img src="../images/2013/08/20130822-webmidi-permission-window.png" width="80%" />
</div>

<p>Web MIDI API での指定はこんな感じです。</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">navigator</span><span class="p">.</span><span class="nx">requestMIDIAccess</span><span class="p">(</span> <span class="p">{</span><span class="na">sysex</span><span class="p">:</span><span class="kc">true</span><span class="p">}</span> <span class="p">).</span><span class="nx">then</span><span class="p">(</span> <span class="nx">MIDISuccessCallback</span><span class="p">,</span> <span class="nx">MIDIErrorCallback</span> <span class="p">);</span>
</code></pre>
</div>

<p>「セキュリティの懸念って何？」というとこですが、 SysEx という MIDI Message はF0Hで始まりF7Hで終わる可変長で、楽器メーカー各社が独自に定めることのできるメッセージで、利用される代表例がユーザーがシンセサイザのプリセット音色のパラメータを変更して作成した音色データのバックアップだったりします。（同じメーカーであっても機種によって設定できるパラメータの数等に違いがあり出力フォーマットを統一することが困難な為、独自にフォーマットを定義できる SysEx を使います。）ここで、例えばシンセサイザが接続されたコンピュータ上のブラウザで動作している MIDI アプリケーションが音色パラメータを無断で SysEx を使って吸い出しサーバーに保存していたとしたらどうでしょう？このユーザーがアクセスする毎に照合するようにしたら個人名までは分からないですが「このユーザーは昨日アクセスしてきて、アレやってた人だ」というような特定ができちゃうことになりますよね。こういったことを未然に防止する為に、Web MIDI API ではアプリケーションが事前に SysEx を使うか否かを宣言し、ユーザーからの許可を取った上でしか利用できないという制限をしています。<br /></p>

<p>ちなみに、SysExについて「楽器メーカー各社が独自に定めることのできるメッセージ」
と書きましたが、SysEx を使うためには MIDI を管理する団体に届け出をして Manufactuere ID を取得する必要があり、
日本国内からは <a href="http://www.amei.or.jp/" target="_blank">AMEI(Association of Musical Electronics Industry：音楽電子事業協会)</a>、日本以外からは <a href="http://www.midi.org/" target="_blank">MMA(MIDI Manufacturers Association)</a>へ、ということになります。</p>

<p>現状で Manufactuere ID を保有している<a href="http://www.midi.org/techspecs/manid.php" target="_blank">団体のリスト</a>です。</p>

<p>いろいろ脱線してしまいましたが、という具合で Web MIDI API はもうすぐブラウザにやってきますよ！！！</p>

<p>(Web MIDI API Wrapper の説明の狭間に割り込んだPOSTになってしまいました(・ω&lt;))</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-08-20T00:00:00+09:00"><a href="../2013/08/20/webmidiapi-wrapper-01.html">August 20, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="../about/" title="About Ryoya Kawai">Ryoya Kawai</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute


      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="../2013/08/20/webmidiapi-wrapper-01.html" rel="bookmark" title="Web MIDI API Wrapper 公開したよ^^ (1)" itemprop="url">Web MIDI API Wrapper 公開したよ^^ (1)</a></h1>
    
  </header>
  <div class="entry-content">
    <div> </div>

<p>2013年7月1日にChrome CanaryにMIDI InputがやってきたWeb MIDI API。そろそろOutputも来るはずですが、今のところ<a href="http://jazz-soft.net/" target="_blank">Jazz-Plugin</a>をインストールして<a href="https://github.com/cwilso/WebMIDIAPIShim" target="_blank">Web MIDI API Shim</a>を使って動かします^^
でも「MIDIって難しいんでしょ？」という声が聞こえて聞こえてきそうなので、聞こえてくる前にWrapperなるものを作ってみました。</p>

<div class="post-image-center">
<a href="https://github.com/ryoyakawai/WebMIDIAPIWrapper" target="_blank">Web MIDI API Wrapper</a>
</div>

<p>Wrapperの話に入る前に「MIDIってなんぞ？」ってところを少し書きます。一言で言うと
「メーカの枠を超え、電子楽器と電子楽器を接続する為のプロトコル」なんです。
歴史は30年前のNAMM Show(National Association of Music Merchants Show)という楽器の見本市でお披露目され
(今年はちょうど30周年に加え<a href="http://www.midi.org/aboutus/news/grammy.php" target="_blank">テクニカルグラミー賞を受賞</a>)、その後電子楽器の接続のみならず照明機器のコントロール、通信カラオケ、携帯電話の着信音の制作など幅広く利用、応用されています。有名なのは、HollywoodにあるUniversal StudiosのWaterworldのアトラクションで、ライトと演出の同期、キュー出しにMIDIが使われています。そのアトラクションがこれ▼です。(12分00秒辺りが同期とか必要そう)</p>
<div>
  <youtube-play contentid="GmkZYt2-GYY" size="80%" imgsrc="../images/2013/08/20130820-waterworld.png" start="0" autoplay="1" rel="0" controls="1" showinfo="0" allowfullscreen="1"></youtube-play>
</div>

<p>Wrapperの説明に入ります。
今のところ、とりあえずMIDIを意識せずともアプリケーションを簡単に構築できるように、基本的な以下のメッセージに対応にしています。</p>

<ul>
  <li>NoteOn：音を鳴らす</li>
  <li>NoteOff：音を止める</li>
  <li>PitchBend：ピッチを上下させる</li>
  <li>Sustain：ダンパーペダルの操作</li>
  <li>Modulation：揺らぎ</li>
  <li>AllSoundOff：残響、Sustainを含め即時に全ての音を止める</li>
  <li>ResetAllController：PitchBend、After-Touchなどのコントローラを初期値に戻す</li>
  <li>AllNoteOff：発音している音を全て止める</li>
</ul>

<p>使い方はこんな感じです。 まずは WebMIDIAPI.js と WebMIDIAPIWrapper.js にリンクします。(今回は都合上、前準備だけになってしまいました。。。)</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"[PathToJS]/WebMIDIAPI.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"[PathToJS]/WebMIDIAPIWrapper.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>

<p>次にConstructorを作ります。</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">wmaw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebMIDIAPIWrapper</span><span class="p">(</span> <span class="kc">false</span> <span class="p">);</span>
</code></pre>
</div>

<p>続いて MIDI Input 、 MIDI Output が指定されたときの EventHandler を指定します。</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">wmaw</span><span class="p">.</span><span class="nx">setMidiInputSelect</span><span class="o">=</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="cm">/* MIDI Input の選択リストを表示する EventHandler */</span>
  <span class="cm">/* 選択リストから MIDI Input が選択された時の EventHandler もここに書く*/</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">wmaw</span><span class="p">.</span><span class="nx">setMidiOutputSelect</span><span class="o">=</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="cm">/* MIDI Output の選択リストを表示する EventHandler */</span>
  <span class="cm">/* 選択リストから MIDI Output が選択された時の EventHandler もここに書く*/</span>
<span class="p">}</span>
</code></pre>
</div>

<p>最後に Web MIDI API を Fire する。</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">wmaw</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
</code></pre>
</div>

<p>これで MIDI Input、Output デバイスのリストが表示され、デバイスを選択できる状態になります。デバイスを選択した状態でMIDIメッセージを送れば音がなったりします。例えばこんな感じ▼</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">wmaw</span><span class="p">.</span><span class="nx">sendNoteOn</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nx">wmaw</span><span class="p">.</span><span class="nx">sendNoteOff</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>
</code></pre>
</div>

<p>これでA4の音が500msecの間、60の強さ(最大127)で鳴ります。</p>

<p>ここから！というところですが、この先を書くと長くなりそうなので今回はここまでにして、次回はMIDIメッセージの送信について書こうと思います！！</p>

<p>お楽しみに^^</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-06-20T00:00:00+09:00"><a href="../2013/06/20/speech-jammer-google.html">June 20, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="../about/" title="About Ryoya Kawai">Ryoya Kawai</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute


      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="../2013/06/20/speech-jammer-google.html" rel="bookmark" title="SpeechJammer+つくった＆展示してきたよ!" itemprop="url">SpeechJammer+つくった＆展示してきたよ!</a></h1>
    
  </header>
  <div class="entry-content">
    <div> </div>

<p>7月19日に GoogleJapan で行われた <a href="http://googledevjp.blogspot.jp/2013/07/demo-party-2013.html" target="_blank">DemoParty</a> に<a href="http://dl.dropboxusercontent.com/u/695740/speechJammerPlus/index.html" target="_blank">SpeechJammer+</a>というアプリケーションを展示させていただきました。以前 <a href="http://dl.dropboxusercontent.com/u/695740/IgNobelPrize/2012/index.html" target="_blank">SpeechJammer</a> というのを作って公開していたのですが、何かが起こったみたいでアクセスがとても伸びていまして、ならばもう少し楽しくできないか？？という発想で続編的なのをりました。</p>

<p>まず、SpeechJammer の説明です。2012年のイグノーベル賞アコースティック部門を受賞した<a href="https://sites.google.com/site/qurihara/top-english/speechjammer" target="_blank">アルゴリズム、および物理ガジェット</a>です。（注：アルゴリズムの発明者は産総研にいらっしゃる栗原一貴氏で私ではありません。）アルゴリズムは「集めた音を0.2秒後に再生をする」という極めてシンプルなものですが「集める音」を自分の会話の声として「0.2秒前の自分の会話が再生される」のを実際に体験すると、違和感を感じ会話をストップしたくなってしまいます。名前の由来もここにあると思います。ユースケースとしては「ちょっとおしゃべりな人に静かにしていただきたいときに使う」という感じになります。
ただ、「0.2秒前の自分の会話が再生される」というのに違和感はあるのですが、何か楽しさもあるんです、不思議と。そこで「もっと面白くできないかな〜？？しかもブラウザ上で。」と考えたところ「0.2秒前の会話にサウンドエフェクトをかけて再生してまえ！あと0.2秒前の映像も流してしまえ！」と思いつき実装をしてみました。個人的には理由はわかりませんが、暇つぶしに遊んでしまう、おもちゃ的な楽しさがあると感じています。</p>

<p>技術的には、マイク入力・カメラの扱いで getUserMedia() (WebRTC)、サウンドエフェクトには WebAudioAPI、あと細かいところですがノブには polymer/WebComponents (<a href="//twitter.com/agektmr" target="_blank">@agektmr</a>氏作)を使っています。（Web MIDI API も使いたかったのですがアイデア不足の為、今回は組み込めませんでした。。。orz）SpeechJammer+ のソースコードは github で公開しているので、気になる方はこちらからどうぞ！！  <br />
<a href="https://github.com/ryoyakawai/speechJammerPlus/" target="_blank">ソースコード&gt;</a><br />
そして、LiveDemoはこちらになります  <a href="http://dl.dropboxusercontent.com/u/695740/speechJammerPlus/index.html" target="_blank">LiveDemo</a><br />
ライブデモは <a href="https://www.google.co.jp/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CC0QFjAA&amp;url=http%3A%2F%2Fwww.google.co.jp%2Fintl%2Fja%2Fchrome%2Fbrowser&amp;ei=JqXqUZS7MZDrlAXt6oCwBQ&amp;usg=AFQjCNEU0qcH2Zlo56thVf_Ubs61GwnDiA&amp;sig2=BDaCLs5AcKr3V1BuybjH2A" target="_blank">Google Chrome（ブラウザ）</a>での動作を、またハウリングを起こしやすいので、ヘッドホンをしてお試しください。映像のプレイバックは力技でやっていまして、遅延が時間とともに酷くなりますので、おまけ程度ということでお願いします。。。</p>

<div class="post-image-center">
  <img src="../images/2013/07/20130720-speechJammer.png" width="60%" />
</div>

<p>DemoPartyについては、MAKERな方々が集まってワィワィやる的なイベントでした。
すっごく楽しかったです。そして<a href="http://uda.la/" target="_blank">ウダー</a>の宇田さん、<a href="http://www.maywadenki.com/otamatone/" target="_blank">オタマトーン</a>で明和電機さんもいらっしゃってデモ兼プレゼンテーションをされていました。
私もプレゼンテーションをさせていただきましたが、デモで音声を出せなくちょっと残念でした＆準備不足ですみませんでした、、、orz<br />
こんな感じでプレゼンテーション(<a href="//twitter.com/tyone" target="_blank">@tyone</a>さん、写真ありがとうございました！！)▼</p>

<div class="post-image-center">
  <img src="../images/2013/07/20130720-speechJammer-02.png" width="30%" />
</div>

<p>MAKER Conferenceには1度だけ参加経験はあるものの、展示する側としてMAKER系のイベントに参加するのは初めてでしたので、かなりドキドキでした。終わってみると展示する側として参加して、また違った楽しみ方があることを知りました。ホント、楽しかったです。こんな素敵な場を提供くださったGoogleの皆様本当にありがとうございました！！</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-06-01T00:00:00+09:00"><a href="../2013/06/01/webmidi-to-chrome-canary.html">June 01, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="../about/" title="About Ryoya Kawai">Ryoya Kawai</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute


      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="../2013/06/01/webmidi-to-chrome-canary.html" rel="bookmark" title="Web MIDI API が Chrome Canary にやってきた!!!!" itemprop="url">Web MIDI API が Chrome Canary にやってきた!!!!</a></h1>
    
  </header>
  <div class="entry-content">
    <div> </div>

<p>ついにMIDI機器をブラウザで扱える日を迎えました！！そうです、<a href="http://webaudio.github.io/web-midi-api/" target="_blank">Web MIDI API</a>です。W3C的にはもうすぐLC(Last Call:最終草案)の段階で、ここを迎えるには「2つ以上のブラウザに実装されている」ことが条件になってる1つをGoogleさんが90%以上(sendが未実装なので)超えてくださいました。感謝感謝です！！！
オリジナルの記事は<a href="https://plus.google.com/+ChrisWilson/posts/cs4J6sS9qmJ" target="_blank">こちら</a>！！</p>

<p>まずは仕様の変更点。</p>

<h4 id="0-変更じゃないけどまだflag付きです">(0) 変更じゃないけど、まだflag付きです。</h4>
<p><strong>chrome://flags/#enable-web-midi</strong><br />
をenableにしてください。しかしながら、send() は未実装です。</p>

<h4 id="1-requestmidiaccess-の引数が変更されました">(1) requestMIDIAccess の引数が変更されました。</h4>

<ul>
  <li>変更前 navigator.requestMIDIAccess( successCallback, failureCallback );</li>
  <li>変更後 navigator.requestMIDIAccess({sysex:true/false}).then( successCallback, failureCallback );</li>
</ul>

<p>SysExで楽器の情報をDumpできちゃので、それを明示的に指定するのが目的だと思われます。今後、{sysex:true} になってる場合、ユーザに許可を求めるダイアログが出るかもしれないです。</p>

<h4 id="2-event名-message-が-midimessage-に変更されました">(2) event名 message が midimessage に変更されました。</h4>

<h4 id="3-getinputs---getinputidgetoutputs---getoutputidが1段階になりました">(3) getInputs() -&gt; getInput(id)、getOutputs() -&gt; getOutput(id)が、1段階になりました。</h4>
<p>inputs()、outputs() するとMIDI機器のリストが配列が返ってきて、配列のIDを指定することでそのMIDI機器を扱えるようになります。<br />
※ この変更で扱いが更に手軽になりました。</p>

<p>変更点は以上です。
<a href="//twitter.com/cwilso" target="_blank">Chris Wilson</a>氏の<a href="https://github.com/cwilso/WebMIDIAPIShim" target="_blank">Polifill</a>もこれらの変更に対応済みでした。</p>

<p><br />
そして今回は「Web MIDI API！！」と騒いでる自分も何かできないか？？と考えた結果、需要があるか分かりませんが事始めにテストでも書いてみることにしました。というのも、先月 Test the Web Forward という「Web標準の仕様書を見て実際にテストを書いてContributeしちゃおう！！」という<a href="http://fumit.blogspot.jp/2013/06/test-web-forward-testtwf.html" target="_blank">イベント</a>に参加してきまして、その応用でもあります。このイベントで重要なのは「みんなでテストを書いてContributeすることで、ブラウザ間のInteroperabilityを高めよう」というところだと私は理解しました。</p>

<p><br />
そしてWeb MIDI APIのテストはこれ <a href="https://dl.dropboxusercontent.com/u/695740/WebMusicDevelopersJP/WebMIDIAPITest/index.html" target="_blank">Web MIDI API Test</a><br />※スゴイモノではありませんのでびっくりしないでください(&gt;&lt;)<br />
OSX の Chrome Canary以外で動作させるには、<a href="http://jazz-soft.net/" target="_blank">http://jazz-soft.net/</a> の Jazz-Plugin のインストールが必須です。</p>

<p>このテストを使って、以下の組み合わせで動作することを確認をしました。(全てPolyfillを使ってのテストになります)ここに書いてないのは試していないだけなので、情報をいただけるとありがたいです(・ω&lt;)</p>
<ul>
  <li>OSX: Chrome(27.0.1453.116)、Firefox(22)、Safafi(6.0.5 (8536.30.1))、Opera(15.0.1147.132)</li>
  <li>Windows8: IE10、Firefox(22)、Chrome(27.0.1453.110)</li>
</ul>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2013-02-22T00:00:00+09:00"><a href="../2013/02/22/chrome-packaged-app.html">February 22, 2013</a></time></span><span class="author vcard"><span class="fn"><a href="../about/" title="About Ryoya Kawai">Ryoya Kawai</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
Reading time ~1 minute


      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="../2013/02/22/chrome-packaged-app.html" rel="bookmark" title="Chrome Packaged Apps" itemprop="url">Chrome Packaged Apps</a></h1>
    
  </header>
  <div class="entry-content">
    <div> </div>

<p><a href="http://www.slideshare.net/" target="_blank">Slideshare</a>に「Chrome Packaged Apps」なんて資料を上げちゃった訳ですけど、、、その経緯などを書いてみます。</p>

<p>まず、Chrome Packaged Appsって何？？ってところです。</p>

<p>ど〜ん！！これです <a href="http://developer.chrome.com/trunk/apps/about_apps.html" target="_blank">http://developer.chrome.com/trunk/apps/about_apps.html</a></p>

<p>Google I/O 2012でアナウンスされ、Chromium Blogで 2012/08/09 に正式に告知されったぽいです。( <a href="http://goo.gl/R1yVp" target="_blank">http://goo.gl/R1yVp</a> ) 簡単にいうと「Chrome Packaged AppsとはWebAppsをNative Appsのように見せることができちゃう＆WebAppsでは使えないRawSocketを送受信できたり、BluetoothとかのデバイスにアクセスできるAPIが用意されたPlatform(?)」という感じです。個人的にはLaunch当初にちょっとお触りしたきり、気になりつつも放置しちゃっていました。</p>

<p>が、1月末に仕事(NAMM Show)でアメリカに行った際、Chromebookを購入してみて、「なるほどChrome Packaged AppsはChromeOS(WebOS)上でのNativeAppsか！」と気がつき(今更。。。)「やっぱりおもしろいじゃん。」ということで現状をまとめた、結果がこの(あの？)資料▼だということになります。特に勉強会等で発表をした訳ではありませんf(^-^;)</p>

<div class="post-image-center">
<iframe src="//www.slideshare.net/slideshow/embed_code/key/9UWbjngdOqMpD" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen=""> </iframe> 
</div>
<div class="post-image-center">
<div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/ryoyakawai/chrome-packaged-apps" title="Chrome Packaged Apps" target="_blank">Chrome Packaged Apps</a> </strong> from <strong><a href="https://www.slideshare.net/ryoyakawai" target="_blank">Ryoya Kawai</a></strong> </div>
</div>

<p>Chrome Packaged Appsは基本WebAppsですので、その言語はHTML、JavaScript、CSSなので「開発言語はHTML5です！」と言えますね。資料の中でも書いてますが、一度の覚えてしまえばNativeApps的なものまで書けちゃうHTML5。NTTコミュニケーションズさん主催のWeb of Things カンファレンスにお邪魔させていただいたときに株式会社ニューフォリア 取締役 最高技術責任者 の 羽田野氏 が「HTML5の最大の魅力は言語を複数勉強する必要がないんですよ」とおっしゃっていてものすごく納得し、「Build Once, Run Everywhere」という夢のような言葉に対抗するこんな言葉を思いつきました。</p>

<p><strong>「Learn Once, Build Everywhere」</strong></p>

<p>そのままですが「一度学習(Learn)したら、どこでもアプリを作れます(Build)よ」という意味で、自分ではかなりお気に入りの言葉ですf(^-^;) ちょっと言い過ぎですかね。</p>

<p>ということで、何が言いたかったのかよくわからないPOSTになってしまいましたが、今回はこのへんで。</p>


  </div><!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="../page11/" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="..">1</a></li>
    

    
    
      
      
      <li>…</li>
    

    
    
    

    
      
        
        
        
        <li><a href="../page10/">10</a></li>
      
    
      
        
        
        
        <li><a href="../page11/">11</a></li>
      
    
      
        <li><strong class="current-page">12</strong></li>
      
    
      
        
        
        
        <li><a href="../page13/">13</a></li>
      
    
      
        
        
        
        <li><a href="../page14/">14</a></li>
      
    
      
        
        
        
        <li><a href="../page15/">15</a></li>
      
    

    
    
      <li>…</li>
    

    
      <li><a href="../page16/">16</a></li>
    

    
    
      <li><a href="../page13/" class="btn">Next</a></li>
    
  </ul>
</div>


</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2019 Ryoya Kawai.</span>

  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="../assets/js/scripts.min.js"></script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116678332-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116678332-1');
</script>





<script type="text/javascript" src="../assets/js/header-title-post-index.js"></script>

</body>
</html>
